import timeit


def pierwsze_imperatywna(n):
    if n < 2:
        return []
    tab = [2]

    for i in range(3, n+1, 2):
        ok = True
        for j in range(3, int(i ** 0.5) + 1, 2):
            if i % j == 0:
                ok = False
                break
        if ok:
            tab.append(i)
    return tab


def pierwsze_skladana(n):
    return [num for num in range(2, n + 1) if all(num % i != 0 for i in range(2, int(num ** 0.5) + 1))]


def pierwsze_funkcyjna(n):
    def pierwsza(p):
        if p & 1 == 0 and p > 2:
            return False
        for i in range(3, int(p ** 0.5) + 1, 2):
            if p % i == 0:
                return False
        return True

    return list(filter(pierwsza, range(2, n + 1)))

#ljust

st1 = '''
from __main__ import pierwsze_imperatywna
'''
k1 = '''pierwsze_imperatywna(10)'''

print(timeit.timeit("from __main__ import pierwsze_imperatywna\npierwsze_imperatywna("+str(10)+")"))


print(pierwsze_skladana(10))
print(pierwsze_funkcyjna(10))

tabela = [["num", "imp", "sklad", "func"]]
for i in range(1, 100):
    print(i)
    tabela.append([str(i),
                   timeit.timeit("pierwsze_imperatywna("+str(i)+")", "from __main__ import pierwsze_imperatywna", number=1000),
                   timeit.timeit("pierwsze_skladana("+str(i)+")", "from __main__ import pierwsze_skladana", number=1000),
                   timeit.timeit("pierwsze_funkcyjna("+str(i)+")", "from __main__ import pierwsze_funkcyjna", number=1000)])

print("pomierzone")
for w in tabela:
    for c in w:
        print(str(c).ljust(30, ' '), end="")
    print()

"""
num                           imp                           sklad                         func
1                             6.662899977527559e-05         0.000311711999529507          0.00039042800017341506
2                             0.00020093999955861364        0.0008720059995539486         0.0007575220006401651
3                             0.0005582489993685158         0.0013183299997763243         0.0010537590005696984
4                             0.000544324999282253          0.0021345840013964335         0.0011138970003230497
5                             0.0008167110008798772         0.0027749050004786113         0.0014242489996831864
6                             0.0008176859992090613         0.003612630998759414          0.0015790070010552881
7                             0.0010885550000239164         0.004196809999484685          0.0018652419985301094
8                             0.0010947969985863892         0.005014338999899337          0.0019425289992796024
9                             0.0015343379982368788         0.0061592849997396115         0.002538076998462202
10                            0.0018188429985457333         0.006775476000257186          0.0024283950006065425
11                            0.001945365000210586          0.008289363000585581          0.002843185000529047
12                            0.0018936090000352124         0.008358246999705443          0.0030886600015946897
13                            0.002842461999534862          0.009535902998322854          0.006290977999015013
14                            0.0025024489987117704         0.010221956999885151          0.00346467599956668
15                            0.002927038000052562          0.010915174998444854          0.00469363299998804
16                            0.00270007600011013           0.01170603900027345           0.005215430001044297
17                            0.002978119000545121          0.013231772998551605          0.004899399000350968
18                            0.0029517559996747877         0.016913376000957214          0.004468048999115126
19                            0.003308770001240191          0.015403080000396585          0.004771418000018457
20                            0.003328127000713721          0.018482192001101794          0.004847025000344729
21                            0.003678811001009308          0.019355803000507876          0.005193577000682126
22                            0.0036765579989150865         0.020067591998667922          0.005279909000819316
23                            0.004067474999828846          0.020888360999379074          0.0057860110009642085
24                            0.004031418000522535          0.021631829000398284          0.0058314099987910595
25                            0.004571762998239137          0.023920773001009366          0.0062440830006380565
26                            0.004474631999983103          0.021232452998447116          0.006376807999913581
27                            0.004805632999705267          0.024426312000286998          0.006781321999369538
28                            0.004762679000123171          0.023033086999930674          0.006801174999054638
29                            0.005160093000085908          0.02566756600026565           0.007282941998710157
30                            0.005163069999980507          0.023991587000637082          0.007391849001578521
31                            0.0056272040001204005         0.024905492000470986          0.007824020000043674
32                            0.005639154000164126          0.02568191800128261           0.007907582999905571
33                            0.0059756490009021945         0.027485631999297766          0.00826970500020252
34                            0.00599848199999542           0.02978454500043881           0.008353915000043344
35                            0.006362512998748571          0.030840683000860736          0.008808544000203256
36                            0.006471595999755664          0.03211623399874952           0.008948831000452628
37                            0.006767035998564097          0.03624474099888175           0.009349663998364122
38                            0.006895847000123467          0.04064378299881355           0.010137372000826872
39                            0.00757990400052222           0.03487658899939561           0.009928733999913675
40                            0.0077742630001012            0.0376109680000809            0.010892407000937965
41                            0.007582649999676505          0.03702500799954578           0.011249785000472912
42                            0.007694178999372525          0.03747093499987386           0.010362883000198053
43                            0.00785092300066026           0.036008544000651455          0.010795988999234396
44                            0.007884855998781859          0.03848370699961379           0.01090026299971214
45                            0.008234444998379331          0.03920975999972143           0.011229703999561025
46                            0.008197406999897794          0.04008234899993113           0.011350828999638907
47                            0.008632873999886215          0.0407868749989575            0.011769761000323342
48                            0.008573467999667628          0.04167283599963412           0.011846313000205555
49                            0.009003601000586059          0.042962583000189625          0.012243170000147074
50                            0.009012034999614116          0.043608087000393425          0.012367463999908068
51                            0.009559191999869654          0.04211933599981421           0.01273301299988816
52                            0.009376291000080528          0.0429454290006106            0.012883381999927224
53                            0.009807860000364599          0.04408699300074659           0.013607404000140377
54                            0.009834291000515805          0.04534892599986051           0.013421220999589423
55                            0.010206181001194636          0.045967959998961305          0.013830507001330261
56                            0.010207991999777732          0.047113114000239875          0.013994720999107813
57                            0.010562442001173622          0.04781714599994302           0.014327740998851368
58                            0.010562024999671848          0.04875507099859533           0.01444816000002902
59                            0.01152303600065352           0.05089875799967558           0.01488052500099002
60                            0.011491772000226774          0.05183965700052795           0.015639507999367197
61                            0.01228293200074404           0.05216339499929745           0.015406616999825928
62                            0.012138452999352012          0.053079977000379586          0.015534582000327646
63                            0.011884872999871732          0.052989957001045696          0.01594494000164559
64                            0.011855518001539167          0.053742117999718175          0.016052508999564452
65                            0.013496101999407983          0.055188966000059736          0.016442458001620253
66                            0.012319270999796572          0.05552174300100887           0.016577143000176875
67                            0.014489446999505162          0.05723374799890735           0.01708716299981461
68                            0.012843317999795545          0.0574137179992249            0.01711590599916235
69                            0.01317278299939062           0.05814596800155414           0.0174672590001137
70                            0.013184036999518867          0.05911745299999893           0.017615549000765895
71                            0.013838654000210227          0.060420280999096576          0.018043653000859194
72                            0.01588141000138421           0.061196881000796566          0.018098832999385195
73                            0.014033168999958434          0.06203252700106532           0.018596165000417386
74                            0.016323276999173686          0.06208796899954905           0.018759978000161937
75                            0.014467277000221657          0.06388071100082016           0.019060612999965088
76                            0.01449811100064835           0.06411726300029841           0.019111425001028692
77                            0.015312112998799421          0.064802103999682             0.019674368000778486
78                            0.018003843000769848          0.06558156900064205           0.019688129001224297
79                            0.015861014999245526          0.06668729100056225           0.020225853999363608
80                            0.015841223999814247          0.0673208380012511            0.02025432600021304
81                            0.018153708999307128          0.06810172900077305           0.020621900001060567
82                            0.01805862699984573           0.06963409400123055           0.020779337999556446
83                            0.01678152400018007           0.07026716099971964           0.021215094999206485
84                            0.016815009999845643          0.07059810799910338           0.02129068900103448
85                            0.019083682000200497          0.0715346610013512            0.02170115000080841
86                            0.0191297029996349            0.07244803299909108           0.021821029999046004
87                            0.01945907000117586           0.07418203399902268           0.022215806000531302
88                            0.01939451900034328           0.0740857259988843            0.022378672001650557
89                            0.01986067500001809           0.07530673099972773           0.022841189998871414
90                            0.019940323001719662          0.07598869899993588           0.022873530999277136
91                            0.019250352999733877          0.07729798899890739           0.02336372599893366
92                            0.02038878099847352           0.07797018400015077           0.02347819400165463
93                            0.02073649399972055           0.07893068100020173           0.023999232000278425
94                            0.020650484999350738          0.07947243799935677           0.023872629000834422
95                            0.02102692699918407           0.08094052100022964           0.024338347000593785
96                            0.021030978999988292          0.08180169000115711           0.024424279001323157
97                            0.019849232001433847          0.08249484100088011           0.024917127999287914
98                            0.02160590000130469           0.08322878400031186           0.025113978999797837
99                            0.02072720899923297           0.0843717679999827            0.0255224749998888
"""
